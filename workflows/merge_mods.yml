import json
import os
import glob

DB_FOLDER = "database"
SUBMISSIONS_FOLDER = "submissions"

def merge_lists():
    new_files = glob.glob(f"{SUBMISSIONS_FOLDER}/*.json")
    if not new_files:
        print("No new submissions.")
        return

    for new_file in new_files:
        try:
            with open(new_file, 'r', encoding='utf-8') as f:
                new_data = json.load(f)
                
            print(f"Merged {new_file}")
            os.remove(new_file) 
        except Exception as e:
            print(f"Error merging {new_file}: {e}")

if __name__ == "__main__":
    merge_lists()
